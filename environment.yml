name: pose-splatter
channels:
  - pytorch
  - nvidia
  - conda-forge
  - defaults

dependencies:
  # Python
  - python=3.10

  # PyTorch with CUDA (현재 사용 중: 2.9.0+cu128)
  # 참고: splatter 환경 사용 시 PyTorch 2.9.0 호환
  - pytorch>=2.0.0
  - torchvision>=0.15.0
  - pytorch-cuda=11.8

  # Conda packages
  - numpy>=1.24.0
  - matplotlib>=3.7.0

  # Pip packages
  - pip
  - pip:
    # 3D Gaussian Splatting
    - gsplat>=0.1.0

    # Sparse operations
    - torch-scatter>=2.1.0

    # Data handling
    - zarr>=2.13.0
    - h5py>=3.8.0

    # Computer vision
    - opencv-python>=4.7.0

    # Metrics
    - torchmetrics>=0.11.0

    # Visualization
    - Pillow>=9.5.0

    # Utilities
    - tqdm>=4.65.0
    - joblib>=1.2.0

# Installation instructions:
#
# 새 환경 생성:
#   conda env create -f environment.yml
#   conda activate pose-splatter
#
# 기존 splatter 환경 사용:
#   conda activate splatter
#   # 모든 스크립트는 자동으로 splatter 환경 사용
#
# 문제 해결:
#   - torch-scatter 설치 실패 시:
#     pip install torch-scatter -f https://data.pyg.org/whl/torch-2.0.0+cu118.html
#   - CUDA 메모리 부족 시:
#     export PYTORCH_CUDA_ALLOC_CONF=expandable_segments:True
